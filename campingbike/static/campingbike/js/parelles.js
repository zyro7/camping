

var bounds = null;
//Creem el mapa amb les seves caracteristiques
var map1 = L.map('mapContainer', {
    center: [42.352088, 3.067773],
    zoom: 15,
    maxBounds: bounds,
    layers: [],
    worldCopyJump: false,
    crs: L.CRS.EPSG3857,
    zoomControl: true,
});
//Afegim la capa que cont√© la imatge
var tile_layer_65f0ff17a4b94c2b85d076ddbe1e7f09 = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{
    "attribution": null,
    "detectRetina": false,
    "maxNativeZoom": 18,
    "maxZoom": 18,
    "minZoom": 0,
    "noWrap": false,
    "opacity": 1,
    "subdomains": "abc",
    "tms": false
}).addTo(map1);
//Creem l'objecte ruta
var router = L.routing.osrmv1()
//Definim els waypoints de la ruta
router.route([
  L.routing.waypoint([42.339074, 3.067749 ]),
  L.routing.waypoint([42.341535, 3.048423]),





], function(err, routes) {
  if (err || routes.length < 1) {
    return console.log(err)
  }



//Afegim l'objecte ruta al mapa
L.routing.line(routes[0]).addTo(map1)
  map1.fitBounds(line.getBounds())
})

//Markers
var marker = L.marker([42.342739, 3.058798]).addTo(map1);
marker.bindPopup("<b>Mas Llunes</b>")
var marker = L.marker([42.339183, 3.06788]).addTo(map1);
marker.bindPopup("<b>Camping vell Emporda</b><br><img src=''/>")
var marker = L.marker([42.356484, 2.995986]).addTo(map1);
marker.bindPopup("<b>La vinyeta</b>")


var polylinePoints = [
            [42.341535, 3.048423],
            [42.342931, 3.047003],
            [42.343153, 3.045566],
            [42.342613, 3.043098],
            [42.343882, 3.041618],
            [42.344326, 3.040566],
            [42.345214, 3.039944],
            [42.343946, 3.035717],
            [42.343216, 3.035266],
            [42.344231, 3.034537],
            [42.344263, 3.034258],
            [42.343724, 3.033635],
            [42.343121, 3.032756],
            [42.343121, 3.03046],
            [42.343481, 3.030214],
            [42.343417, 3.028991],
            [42.342656, 3.026566],
            [42.341577, 3.024785],
            [42.339738, 3.024978],
            [42.339357, 3.024528],
            [42.342148, 3.023991],
            [42.344749, 3.022811],
            [42.346494, 3.023391],
            [42.351886, 3.027575],
            [42.354455, 3.025751],
            [42.355184, 3.025552],
            [42.355462, 3.02633],
            [42.355929, 3.025767],
            [42.358279, 3.025829],
            [42.358477, 3.025673],
            [42.358216, 3.024724],
            [42.358224, 3.024525],
            [42.358477, 3.02437],
            [42.35889, 3.024396],
            [42.359381, 3.024101],
            [42.359635, 3.023603],
            [42.359777, 3.023546],
            [42.359869, 3.02312],
            [42.360027, 3.022886],
            [42.360118, 3.02253],
            [42.360059, 3.022393],
            [42.35973, 3.022138],
            [42.359734, 3.021969],
            [42.359944, 3.021478],
            [42.360301, 3.020977],
            [42.3604, 3.020759],
            [42.360562, 3.020161],
            [42.360792, 3.019982],
            [42.360828, 3.019877],
            [42.36082, 3.01967],
            [42.359425, 3.019129],
            [42.358077, 3.017857],
            [42.357847, 3.016403],
            [42.358166, 3.01466],
            [42.358388, 3.013818],
            [42.35857, 3.013652],
            [42.359141, 3.012133],
            [42.359316, 3.011506],
            [42.360005, 3.011157],
            [42.360085, 3.010991],
            [42.359442, 3.008335],
            [42.359886, 3.004763],
            [42.3606, 3.003271],
            [42.360504, 3.001417],
            [42.360305, 3.001411],
            [42.359917, 3.000751],
            [42.359766, 2.999931],
            [42.357063, 3.000762],
            [42.356674, 2.999416],
            [42.356722, 2.999174],
            [42.356484, 2.998547],
            [42.355644, 2.996653],
            [42.356539, 2.995886],
            [42.356381, 2.995365],
            [42.357277, 2.994673],
            [42.356967, 2.994088],
            [42.355623, 2.992425],
            [42.355344, 2.991143],
            [42.354808, 2.989795],
            [42.354245, 2.989006],
            [42.354015, 2.988368],
            [42.353698, 2.986774],
            [42.353388, 2.986104],
            [42.352714, 2.985465],
            [42.352524, 2.98487],
            [42.352016, 2.983459],
            [42.351065, 2.98193],
            [42.350867, 2.981131],
            [42.350875, 2.980535],
            [42.351146, 2.979493],
            [42.351387, 2.97816],
            [42.351387, 2.975435],
            [42.349476, 2.975076],
            [42.349373, 2.975607],
            [42.349666, 2.97602],
            [42.349103, 2.977731],
            [42.347913, 2.978434],
            [42.345624, 2.980514],
            [42.343682, 2.981453],
            [42.34329, 2.982027],
            [42.3431, 2.982097],
            [42.342703, 2.982123],
            [42.341458, 2.983009],
            [42.341307, 2.983412],
            [42.338833, 2.98545],
            [42.338452, 2.986759],
            [42.337215, 2.987639],
            [42.336263, 2.989849],
            [42.335851, 2.990858],
            [42.336104, 2.993497],
            [42.335343, 2.99399],
            [42.334169, 2.995986],
            [42.334106, 2.997166],
            [42.333789, 2.999591],
            [42.333757, 2.999655],
            [42.335248, 3.004226],
            [42.335533, 3.008195],
            [42.334574, 3.007773],
            [42.330421, 3.009463],
            [42.329572, 3.009545],
            [42.328335, 3.010382],
            [42.328821, 3.011612],
            [42.328505, 3.012482],
            [42.330446, 3.013318],
            [42.331004, 3.013794],
            [42.331925, 3.01404],
            [42.332629, 3.014746],
            [42.333478, 3.015156],
            [42.333842, 3.015796],
            [42.334763, 3.015976],
            [42.336461, 3.017075],
            [42.336413, 3.01906],
            [42.336122, 3.0197],
            [42.335588, 3.019946],
            [42.334885, 3.019996],
            [42.334642, 3.023654],
            [42.337747, 3.023966],
            [42.339541, 3.024606],
            [42.33976, 3.025016],
            [42.340924, 3.025098],
            [42.341508, 3.024762],
            [42.341765, 3.024936],
            [42.341846, 3.025425],
            [42.342185, 3.025692],
            [42.342336, 3.026113],
            [42.342669, 3.026525],
            [42.34324, 3.028559],
            [42.343472, 3.02897],
            [42.343428, 3.02962],
            [42.34356, 3.029998],
            [42.343529, 3.030172],
            [42.34329, 3.030312],
            [42.343177, 3.030537],
            [42.343271, 3.031043],
            [42.343133, 3.031497],
            [42.343158, 3.032716],
            [42.343479, 3.03328],
            [42.343748, 3.033582],
            [42.343924, 3.034028],
            [42.344166, 3.034212],
            [42.344364, 3.034163],
            [42.344377, 3.034348],
            [42.344279, 3.03452],
            [42.344044, 3.034798],
            [42.343424, 3.035029],
            [42.343264, 3.03518],
            [42.343355, 3.035361],
            [42.34354, 3.035516],
            [42.343901, 3.035632],
            [42.344133, 3.036114],
            [42.344268, 3.036745],
            [42.344381, 3.037915],
            [42.344992, 3.039117],
            [42.345306, 3.039837],
            [42.344412, 3.040428],
            [42.344274, 3.040725],
            [42.344186, 3.041209],
            [42.34396, 3.041455],
            [42.342856, 3.0425],
            [42.342692, 3.042916],
            [42.342818, 3.044351],
            [42.343119, 3.045311],
            [42.342918, 3.046967],
            [42.341826, 3.04791],
      ];

var polyline = L.polyline(polylinePoints).addTo(map1);

map1.setView(new L.LatLng(42.344, 3.02), 13);


